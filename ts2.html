<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>TS</title>
</head>
<body>
    <form id="searchForm" action="https://www.tohatsu.co.uk/DealerArea/cart/index.php" method="post">
        <input type="hidden" name="s" id="searchTerm">
    </form>
    <script>
        // Function to get the query parameter value
        function getQueryParam(param) {
            let urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        // Function to submit the search
        function submitSearch(searchTerm) {
            document.getElementById("searchTerm").value = searchTerm;
            document.getElementById("searchForm").submit();
        }

        // Function to handle login and resume search
        function loginAndSearch() {
            let searchTerm = getQueryParam("search");
            if (searchTerm) {
                submitSearch(searchTerm);
            }
        }

        // Example: Trigger login process on click of a login button
        document.getElementById("loginButton").addEventListener("click", function() {
            // Simulate login process (replace with actual login logic)
            // For demonstration, assume login is successful after 2 seconds
            setTimeout(function() {
                // Call loginAndSearch() after successful login
                loginAndSearch();
            }, 2000); // Adjust timeout as needed or replace with actual login logic
        });

        // Function to check if user is logged in (you need to implement this logic)
        function isLoggedIn() {
            // Example: Check if user is logged in based on your session or cookie logic
            return false; // Replace with your logic to check if user is logged in
        }
    </script>

    <!-- Example: Login button that triggers the login process -->
    <button id="loginButton">Login</button>

</body>
</html>
