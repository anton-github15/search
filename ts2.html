<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login and Search</title>
</head>
<body>
    <!-- Script to handle search after login -->
    <script>
        // Function to get the query parameter value
        function getQueryParam(param) {
            let urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(param);
        }

        // Function to submit the search
        function submitSearch(searchTerm) {
            // Set the search term in the form
            document.getElementById("searchTerm").value = searchTerm;
            // Submit the form
            document.getElementById("searchForm").submit();
        }

        document.addEventListener("DOMContentLoaded", function() {
            // Example: Wait for user to click the login button after autofill
            // Replace with your actual login button click event handling
            document.getElementById("loginButton").addEventListener("click", function() {
                // After clicking login button, proceed with search
                let searchTerm = getQueryParam("search");
                if (searchTerm) {
                    submitSearch(searchTerm);
                }
            });
        });
    </script>

    <!-- Example: Login form (replace with actual form structure) -->
    <form id="loginForm" action="https://www.tohatsu.co.uk/DealerArea/" method="post">
        <!-- Assume username and password are filled automatically by the browser -->
        <!-- Replace with actual autofilled username and password fields -->
        <button type="button" id="loginButton">Login</button>
    </form>

    <!-- Example: Search form (replace with actual form structure) -->
    <form id="searchForm" action="https://www.tohatsu.co.uk/DealerArea/cart/index.php" method="post">
        <input type="hidden" name="s" id="searchTerm">
    </form>
</body>
</html>
